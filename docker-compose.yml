services:
  meshmonitor:
    # Option 1: Use pre-built image from GitHub Container Registry (recommended)
    image: ghcr.io/yeraze/meshmonitor:latest

    # Option 2: Build locally (comment out 'image' above and uncomment below for development)
    # build:
    #   context: .
    #   dockerfile: Dockerfile

    # Auto-Upgrade: To enable automatic upgrades through the UI, use:
    #   docker compose -f docker-compose.yml -f docker-compose.upgrade.yml up -d
    # See docs/configuration/auto-upgrade.md for details

    container_name: meshmonitor
    ports:
      - '8087:3001'
      - '4404:4404'
    restart: unless-stopped
    volumes:
      - meshmonitor-data:/data
    env_file: .env

volumes:
  meshmonitor-data:
    driver: local
